name=1 
city=1 
code=1 
mobno=1 
n=0 
ch=0 
 
while [ $ch -ne 7 ] 
do 
  echo -e "\nAddress Database\n-------------" 
  echo -e "1. Create Database\n2. View Database\n3. Insert a record" 
  echo -e "4. Delete a record\n5. Search a record\n6. Modify a record\n7. Exit" 
  echo -e "\nEnter your choice:" 
  read ch 
 
  case $ch in 
    1) 
      echo -e "\nEnter the file name:" 
      read fname 
      touch "$fname" 
      echo -e "\nEnter number of records to add:" 
      read n 
      i=$n 
      while [ $i -gt 0 ] 
      do 
        echo -e "\nEnter Name:" 
        read name 
        echo -e "Enter City:" 
        read city 
        echo -e "Enter Zipcode:" 
        read code 
        echo -e "Enter Mobile no:" 
        read mobno 
        echo -e "$name\t$city\t$code\t$mobno" >> "$fname" 
        echo -e "Record added successfully." 
        i=$((i - 1)) 
      done 
      ;; 
 
    2) 
      if [ ! -f "$fname" ]; then 
        echo "No database found. Create one first." 
      else 
        echo -e "\nName\tCity\tZipcode\tMobile" 
        cat "$fname" 
      fi 
      ;; 
 
    3) 
      echo -e "\nEnter Name:" 
      read name 
      echo -e "Enter City:" 
      read city 
      echo -e "Enter Zipcode:" 
      read code 
      echo -e "Enter Mobile no:" 
      read mobno 
      echo -e "$name\t$city\t$code\t$mobno" >> "$fname" 
      echo -e "Record inserted successfully." 
      ;; 
 
    4) 
      echo -e "\nEnter the Name of the record to be deleted:" 
      read no 
      if grep -w "$no" "$fname" > /dev/null 
      then 
        grep -v -w "$no" "$fname" > temp 
        mv temp "$fname" 
        echo -e "Record deleted successfully." 
      else 
        echo -e "Record not found." 
      fi 
      ;; 
 
    5) 
      echo -e "\nEnter the name of the record to search:" 
      read no 
      if grep -w "$no" "$fname" > /dev/null 
      then 
        grep -w "$no" "$fname" 
      else 
        echo -e "Record not found." 
      fi 
      ;; 
 
    6) 
      echo -e "\nEnter the name of the record to modify:" 
      read oldname 
      if grep -w "$oldname" "$fname" > /dev/null 
      then 
        grep -v -w "$oldname" "$fname" > temp 
        echo -e "Enter new Name:" 
        read name 
        echo -e "Enter new City:" 
        read city 
        echo -e "Enter new Zipcode:" 
        read code 
        echo -e "Enter new Mobile no:" 
        read mobno 
        echo -e "$name\t$city\t$code\t$mobno" >> temp 
        mv temp "$fname" 
        echo -e "Record modified successfully." 
      else 
        echo -e "Record not found." 
      fi 
      ;; 
 
    7) 
      echo "Exiting from program..!" 
      exit 0 
      ;; 
*) 
echo "Invalid choice." 
;; 
esac 
done